import type { PolylineData } from '@cve-ts/features'
import CveControl from './core/control'

export default class PolylineControl extends CveControl {
  constructor() {
    super()
  }

  checkExistance(params: CveSelector, callback?: CveCallback) {
    return this.sendCommand(
      { Command: 'CheckExistanceOfPolyline', Data: params },
      callback
    )
  }
  create(pointDataArray: PolylineData<PolylineStyle>, callback?: CveCallback) {
    return this.sendCommand(
      { Command: 'CreatePolyline', Data: pointDataArray },
      callback
    )
  }
  delete(params: CveSelector, callback?: CveCallback) {
    return this.sendCommand({ Command: 'DeletePolyline', Data: params }, callback)
  }
  hide(params: CveSelector, callback?: CveCallback) {
    return this.sendCommand({ Command: 'HidePolyline', Data: params }, callback)
  }
  hideWithAnimateAndDuration(
    params: CveSelector,
    animate: PolylineAnimate,
    duration: number,
    callback?: CveCallback
  ) {
    const Data = {
      Animate: animate,
      AnimateDuration: duration,
      ...params,
    }
    return this.sendCommand({ Command: 'HidePolyline', Data }, callback)
  }
  hideWithAnimateAndSpeed(
    params: CveSelector,
    animate: PolylineAnimate,
    speed: number,
    callback?: CveCallback
  ) {
    const Data = {
      Animate: animate,
      AnimateSpeed: speed,
      ...params,
    }
    return this.sendCommand({ Command: 'HidePolyline', Data }, callback)
  }
  pick(params: CveSelector, callback?: CveCallback) {
    return this.sendCommand({ Command: 'SelectPolyline', Data: params }, callback)
  }
  show(params: CveSelector, callback?: CveCallback) {
    return this.sendCommand({ Command: 'ShowPolyline', Data: params }, callback)
  }
  showWithAnimateAndDuration(
    params: CveSelector,
    animate: PolylineAnimate,
    duration: number,
    callback?: CveCallback
  ) {
    const Data = {
      Animate: animate,
      AnimateDuration: duration,
      ...params,
    }
    return this.sendCommand({ Command: 'ShowPolyline', Data }, callback)
  }
  showWithAnimateAndSpeed(
    params: CveSelector,
    animate: PolylineAnimate,
    speed: number,
    callback?: CveCallback
  ) {
    const Data = {
      Animate: animate,
      AnimateSpeed: speed,
      ...params,
    }
    return this.sendCommand({ Command: 'ShowPolyline', Data }, callback)
  }
  unselect(callback?: CveCallback) {
    return this.sendCommand({ Command: 'UnselectPolyline' }, callback)
  }
}

export { PolylineControl }
