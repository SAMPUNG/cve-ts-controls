type CveCallback = (res: ResponseData) => void

type CveResolve = (value: CveResponse | PromiseLike<CveResponse>) => void

interface CveResponse {
  Code?: string
  /** 指令 */
  Command?: string
  /** 响应数据 */
  Data?: unknown
  Result?: unknown
  /** 类型 */
  Type?: string
  /** UID */
  UID?: string
}

/**
 * key可以为'Name'、'ID'、'Tags'中的一种
 * 
 * Tags 语法如下：
 * 
 * Operator 可选：And、Or；
 * 
 * Conditions中的条件可选：'=='、'!='、'>'、'>='、'<'、'<='、'in'、'not in'
 * 
 * 当条件为'>'、'>='、'<'、'<='时，值的格式应该为数字
 * 
 * 例：{Tags:{Operator:'And',Conditions:[['年龄','>=',[18]],['血型','in',['A','B']]]}}
 */
interface CveSelector {
  [x: string]: unknown
  ID?: string
  Name?: string
  Tags?: SelectorTags
}
interface SelectorTags {
  Operator?: 'And' | 'Or'
  Conditions: (SelectorCondition | SelectorConditionByMath)[]
}
type SelectorOperation =
  | '=='
  | '!='
  | 'in'
  | 'not in'
type SelectorOperationByMath =
  | '>'
  | '>='
  | '<'
  | '<='
type SelectorCondition = [
  key: string,
  operation: SelectorOperation,
  values: string[],
]
type SelectorConditionByMath = [
  key: string,
  operation: SelectorOperationByMath,
  values: number[],
]

interface DateRecord {
  /** 月份 */
  'M+': number
  /** 日 */
  'd+': number
  /** 小时 */
  'h+': number
  /** 分 */
  'm+': number
  /** 秒 */
  's+': number
  /** 季度 */
  'q+': number
  /** 毫秒 */
  S: number
}
